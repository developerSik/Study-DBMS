CREATE SEQUENCE SEQ_USER;
CREATE SEQUENCE SEQ_SAVING;
CREATE SEQUENCE SEQ_SAVINGLEVEL;
CREATE SEQUENCE SEQ_ITEM;
CREATE SEQUENCE SEQ_REVIEW;
CREATE SEQUENCE SEQ_ORDER;
CREATE SEQUENCE SEQ_LIKE;
CREATE SEQUENCE SEQ_DORANBOARD;
CREATE SEQUENCE SEQ_DORANCOMMENT;
CREATE SEQUENCE SEQ_BOARD;
CREATE SEQUENCE SEQ_ANSWER;
CREATE TABLE USERS (
    USER_ID NUMBER CONSTRAINT PK_USERS PRIMARY KEY,
    IDENTIFICATION VARCHAR2(300) NOT NULL,
    PASSWORD VARCHAR2(200) NOT NULL,
    NAME VARCHAR2(200) UNIQUE NOT NULL,
    PHONENUMBER VARCHAR2(200) NOT NULL,
    ADDRESS VARCHAR2(500),
    STATUS NUMBER NOT NULL,
    ROLL VARCHAR2(100) NOT NULL,
    CREATEDDATE DATE DEFAULT SYSDATE,
    PROFILEIMAGENAME VARCHAR2(400),
    PROFILEIMAGESIZE NUMBER,
    PROFILEIMAGEUUID NUMBER,
    SAVINGLEVEL_ID NUMBER,
    CONSTRAINT FK_USERS_SAVINGLEVEL FOREIGN KEY (SAVINGLEVEL_ID)
    REFERENCES SAVINGLEVEL (SAVINGLEVEL_ID) ON DELETE CASCADE
);
CREATE TABLE SAVING (
    SAVING_ID NUMBER CONSTRAINT PK_SAVING PRIMARY KEY,
    START_DATE DATE DEFAULT SYSDATE,
    END_DATE DATE DEFAULT SYSDATE,
    MONEY NUMBER NOT NULL,
    STATUS VARCHAR2(100) NOT NULL,
    USER_ID NUMBER,
    CONSTRAINT FK_SAVING_USERS FOREIGN KEY (USER_ID)
    REFERENCES USERS (USER_ID) ON DELETE CASCADE
);
CREATE TABLE FILES (
    FILE_ID NUMBER CONSTRAINT PK_FILES PRIMARY KEY,
    FILE_SIZE NUMBER NOT NULL,
    ORIGIN_NAME VARCHAR2(500),
    UUID NUMBER NOT NULL
);
CREATE TABLE LIKES (
    LIKE_ID NUMBER CONSTRAINT PK_LIKES PRIMARY KEY,
    ITEM_ID NUMBER,
    USER_ID NUMBER,
    CONSTRAINT FK_LIKES_ITEM FOREIGN KEY (ITEM_ID)
    REFERENCES ITEM (ITEM_ID) ON DELETE CASCADE,
    CONSTRAINT FK_LIKES_USERS FOREIGN KEY (USER_ID)
    REFERENCES USERS (USER_ID) ON DELETE CASCADE
);
CREATE TABLE SAVINGLEVEL (
    SAVINGLEVEL_ID NUMBER CONSTRAINT PK_SAVINGLEVEL PRIMARY KEY,
    NAME VARCHAR2(500) NOT NULL,
    GOAL_MONEY VARCHAR2(500) NOT NULL,
    DAILY_MONEY NUMBER NOT NULL
);
CREATE TABLE DORANBOARD (
    DORANBOARD_ID NUMBER CONSTRAINT PK_DORANBOARD PRIMARY KEY,
    TITLE VARCHAR2(400) NOT NULL,
    CONTENT VARCHAR2(400) NOT NULL,
    VIEWCOUNT NUMBER NOT NULL,
    REGISTERDATE DATE DEFAULT SYSDATE,
    UPDATEDATE DATE DEFAULT SYSDATE,
    USER_ID NUMBER,
    ITEM_ID NUMBER,
    CONSTRAINT FK_DORANBOARD_USERS FOREIGN KEY (USER_ID)
    REFERENCES USERS (USER_ID) ON DELETE CASCADE,
    CONSTRAINT FK_DORANBOARD_ITEM FOREIGN KEY (ITEM_ID)
    REFERENCES ITEM (ITEM_ID) ON DELETE CASCADE
);
CREATE TABLE DORANFILE (
    FILE_ID NUMBER CONSTRAINT PK_DORANFILE PRIMARY KEY,
    DORANBOARD_ID NUMBER,
    CONSTRAINT FK_DORANFILE_FILES FOREIGN KEY (FILE_ID)
    REFERENCES FILES (FILE_ID),
    CONSTRAINT FK_DORANFILE_DORANBOARD FOREIGN KEY (DORANBOARD_ID)
    REFERENCES DORANBOARD (DORANBOARD_ID) ON DELETE CASCADE
);
CREATE TABLE DORANCOMMENT (
    DORANCOMMENT_ID NUMBER CONSTRAINT PK_DORANCOMMENT PRIMARY KEY,
    CONTENT VARCHAR2(400) NOT NULL,
    REGISTERDATE DATE DEFAULT SYSDATE,
    UPDATEDATE DATE DEFAULT SYSDATE,
    DORANBOARD_ID NUMBER,
    CONSTRAINT FK_DORANCOMMENT_DORANBOARD FOREIGN KEY (DORANBOARD_ID)
    REFERENCES DORANBOARD (DORANBOARD_ID) ON DELETE CASCADE
);
CREATE TABLE ITEM (
    ITEM_ID NUMBER CONSTRAINT PK_ITEM PRIMARY KEY,
    NAME VARCHAR2(400) NOT NULL,
    PRICE NUMBER NOT NULL,
    CURRENT_STOCK NUMBER NOT NULL,
    ORIGIN_STOCK NUMBER NOT NULL,
    STATUS VARCHAR2(400) NOT NULL,
    BRAND VARCHAR2(400) NOT NULL,
    CATEGORY VARCHAR2(400) NOT NULL,
    REGISTERDATE DATE DEFAULT SYSDATE,
    UPDATEDATE DATE DEFAULT SYSDATE,
    SAVINGLEVEL_ID NUMBER,
    CONSTRAINT FK_ITEM_SAVINGLEVEL FOREIGN KEY (SAVINGLEVEL_ID)
    REFERENCES SAVINGLEVEL (SAVINGLEVEL_ID) ON DELETE CASCADE
);
CREATE TABLE ITEMFILE (
    FILE_ID NUMBER CONSTRAINT PK_ITEMFILE PRIMARY KEY,
    ITEM_ID NUMBER,
    CONSTRAINT FK_ITEMFILE_FILES FOREIGN KEY (FILE_ID)
    REFERENCES FILES (FILE_ID),
    CONSTRAINT FK_ITEMFILE_ITEM FOREIGN KEY (ITEM_ID)
    REFERENCES ITEM (ITEM_ID) ON DELETE CASCADE
);
CREATE TABLE ORDERS (
    ORDER_ID NUMBER CONSTRAINT PK_ORDERS PRIMARY KEY,
    ORDER_AMOUNT NUMBER NOT NULL,
    ORDER_DATE DATE DEFAULT SYSDATE,
    DELIVERY_START_DATE DATE DEFAULT SYSDATE,
    DELIVERY_COMPLETE_DATE DATE DEFAULT SYSDATE,
    STATUS VARCHAR2(400) NOT NULL,
    ADDRESS VARCHAR2(400) NOT NULL,
    PAY_STATUS VARCHAR2(400) NOT NULL,
    ITEM_ID NUMBER,
    USER_ID NUMBER,
    CONSTRAINT FK_ORDERS_ITEM FOREIGN KEY (ITEM_ID)
    REFERENCES ITEM (ITEM_ID) ON DELETE CASCADE,
    CONSTRAINT FK_ORDERS_USERS FOREIGN KEY (USER_ID)
    REFERENCES USERS (USER_ID) ON DELETE CASCADE
);
CREATE TABLE INQUIRE_BOARD (
    BOARD_NUMBER NUMBER CONSTRAINT PK_BOARD PRIMARY KEY,
    BOARD_TYPE VARCHAR2(1000) NOT NULL,
    BOARD_TITLE VARCHAR2(1000) NOT NULL,
    BOARD_CONTENT VARCHAR2(1000),
    BOARD_DATE DATE DEFAULT SYSDATE,
    BOARD_UPDATE DATE DEFAULT SYSDATE,
    USER_ID NUMBER NOT NULL,
     CONSTRAINT FK_INQUIRE_USERS FOREIGN KEY (USER_ID)
    REFERENCES USERS (USER_ID) ON DELETE CASCADE
);
CREATE TABLE ANSWER (
    ANSWER_NUMBER NUMBER CONSTRAINT PK_ANSWER PRIMARY KEY,
    ANSWER_CONTENT VARCHAR2(2000),
    BOARD_NUMBER NUMBER NOT NULL,
    CONSTRAINT FK_ANSWER_BOARD FOREIGN KEY (BOARD_NUMBER)
    REFERENCES INQUIRE_BOARD (BOARD_NUMBER)
);
DROP TABLE ANSWER;
DROP TABLE INQUIRE_BOARD;